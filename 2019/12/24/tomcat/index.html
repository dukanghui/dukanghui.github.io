
<!DOCTYPE html>
<html lang="zh-CN" class="loading">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>linux下tomcat基本用法 使用阿里云centos tomcat部署个人博客 - Personal Blog</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="google" content="notranslate">
    <meta name="keywords" content="web,"> 
    <meta name="description" content="不折腾的前端，和咸鱼有什么区别,linux下tomcat基本用法 使用阿里云centos tomcat部署个人博客tomcat 常用命令123456// 启动sudo systemctl start tomcat// 重启sudo,"> 
    <meta name="author" content="dkh"> 
    <link rel="alternative" href="atom.xml" title="Personal Blog" type="application/atom+xml"> 
    <link rel="icon" href="/img/favicon.jpg"> 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
    <link rel="stylesheet" href="/css/diaspora.css">
    <!-- <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({
              google_ad_client: "ca-pub-8691406134231910",
              enable_page_level_ads: true
         });
    </script>
    <script async custom-element="amp-auto-ads"
        src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script> -->
</head>
</html>
<body class="loading">
    <span id="config-title" style="display:none">Personal Blog</span>
    <div id="loader"></div>
    <div id="single">
    <div id="top" style="display: block;">
    <div class="bar" style="width: 0;"></div>
    <a class="icon-home image-icon" href="javascript:;" data-url="http://yoursite.com"></a>
    <div title="播放/暂停" class="icon-play"></div>
    <h3 class="subtitle">linux下tomcat基本用法 使用阿里云centos tomcat部署个人博客</h3>
    <div class="social">
        <!--<div class="like-icon">-->
            <!--<a href="javascript:;" class="likeThis active"><span class="icon-like"></span><span class="count">76</span></a>-->
        <!--</div>-->
        <div>
            <div class="share">
                <a title="获取二维码" class="icon-scan" href="javascript:;"></a>
            </div>
            <div id="qr"></div>
        </div>
    </div>
    <div class="scrollbar"></div>
</div>

    <div class="section">
        <div class="article">
    <div class="main">
        <h1 class="title">linux下tomcat基本用法 使用阿里云centos tomcat部署个人博客</h1>
        <div class="stuff">
            <span>十二月 24, 2019</span>
            
  <ul class="post-tags-list"><li class="post-tags-list-item"><a class="post-tags-list-link" href="/tags/服务器/">服务器</a></li></ul>


        </div>
        <div class="content markdown">
            <h2 id="linux下tomcat基本用法-使用阿里云centos-tomcat部署个人博客"><a href="#linux下tomcat基本用法-使用阿里云centos-tomcat部署个人博客" class="headerlink" title="linux下tomcat基本用法 使用阿里云centos tomcat部署个人博客"></a>linux下tomcat基本用法 使用阿里云centos tomcat部署个人博客</h2><h2 id="tomcat-常用命令"><a href="#tomcat-常用命令" class="headerlink" title="tomcat 常用命令"></a>tomcat 常用命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 启动</span><br><span class="line">sudo systemctl start tomcat</span><br><span class="line">// 重启</span><br><span class="line">sudo systemctl restart tomcat</span><br><span class="line">// 开机自启</span><br><span class="line">sudo systemctl enable tomcat</span><br></pre></td></tr></table></figure>
<h2 id="linux-下安装tomcat"><a href="#linux-下安装tomcat" class="headerlink" title="linux 下安装tomcat"></a>linux 下安装tomcat</h2><h3 id="执行安装命令"><a href="#执行安装命令" class="headerlink" title="执行安装命令"></a>执行安装命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# yum -y install tomcat</span><br></pre></td></tr></table></figure>
<h3 id="查询tomcat是否安装成功"><a href="#查询tomcat是否安装成功" class="headerlink" title="查询tomcat是否安装成功"></a>查询tomcat是否安装成功</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# rpm -q tomcat</span><br><span class="line">tomcat-7.0.76-9.el7_6.noarch</span><br></pre></td></tr></table></figure>
<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a><a href="https://blog.csdn.net/yaodunlin/article/details/87784308" target="_blank" rel="noopener">环境变量</a></h3><h4 id="JDK安装"><a href="#JDK安装" class="headerlink" title="JDK安装"></a>JDK安装</h4><ol>
<li>查看目前系统的jdk: rpm -qa | grep jdk</li>
<li>查看yum库中有哪些JDK: yum search java|grep jdk</li>
<li>选择要安装的版本的包名,进行安装: yum install java-1.7.0-openjdk-1.7.0.75.x86_64 (如果已经安装请忽略此步骤)</li>
<li>也可选择自己要安装的其它版本或最新版本的JDK.注意修改下面配置中的路径。<h4 id="配置JDK"><a href="#配置JDK" class="headerlink" title="配置JDK"></a>配置JDK</h4>设置环境变量<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@localhost ~]# vi /etc/profile</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>添加如下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#set java environment    </span><br><span class="line"></span><br><span class="line">    JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.75.x86_64</span><br><span class="line"></span><br><span class="line">    JRE_HOME=$JAVA_HOME/jre</span><br><span class="line"></span><br><span class="line">    CLASS_PATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib</span><br><span class="line"></span><br><span class="line">    PATH=$PATH:$JAVA_HOME/bin:$JRE_HOME/bin</span><br><span class="line"></span><br><span class="line">    export JAVA_HOME JRE_HOME CLASS_PATH PATH</span><br></pre></td></tr></table></figure></p>
<p>让修改生效：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost java]# source /etc/profile</span><br><span class="line">或</span><br><span class="line">[root@localhost ~]# source .bashrc</span><br></pre></td></tr></table></figure></p>
<h3 id="安装管理包"><a href="#安装管理包" class="headerlink" title="安装管理包"></a>安装管理包</h3><h4 id="如果您刚开始使用Apache-Tomcat，您很可能想要安装一些管理工具，这些工具将帮助您部署Java应用程序和管理虚拟主机。幸运的是，有一些软件包将这些工具作为Web应用程序。"><a href="#如果您刚开始使用Apache-Tomcat，您很可能想要安装一些管理工具，这些工具将帮助您部署Java应用程序和管理虚拟主机。幸运的是，有一些软件包将这些工具作为Web应用程序。" class="headerlink" title="如果您刚开始使用Apache Tomcat，您很可能想要安装一些管理工具，这些工具将帮助您部署Java应用程序和管理虚拟主机。幸运的是，有一些软件包将这些工具作为Web应用程序。"></a>如果您刚开始使用Apache Tomcat，您很可能想要安装一些管理工具，这些工具将帮助您部署Java应用程序和管理虚拟主机。幸运的是，有一些软件包将这些工具作为Web应用程序。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install tomcat-webapps tomcat-admin-webapps</span><br></pre></td></tr></table></figure>
<h4 id="答y在确认提示。"><a href="#答y在确认提示。" class="headerlink" title="答y在确认提示。"></a>答y在确认提示。</h4><h4 id="这增加了ROOT-，-examples-，-sample-，-manager和host-manager-Web应用到tomcat-webapps的目录。"><a href="#这增加了ROOT-，-examples-，-sample-，-manager和host-manager-Web应用到tomcat-webapps的目录。" class="headerlink" title="这增加了ROOT ， examples ， sample ， manager和host-manager Web应用到tomcat/webapps的目录。"></a>这增加了ROOT ， examples ， sample ， manager和host-manager Web应用到tomcat/webapps的目录。</h4><h3 id="安装在线文档（可选）"><a href="#安装在线文档（可选）" class="headerlink" title="安装在线文档（可选）"></a>安装在线文档（可选）</h3><h4 id="如果要安装Tomcat文档，以便默认Tomcat页面上的所有链接都可以运行，请运行以下命令："><a href="#如果要安装Tomcat文档，以便默认Tomcat页面上的所有链接都可以运行，请运行以下命令：" class="headerlink" title="如果要安装Tomcat文档，以便默认Tomcat页面上的所有链接都可以运行，请运行以下命令："></a>如果要安装Tomcat文档，以便默认Tomcat页面上的所有链接都可以运行，请运行以下命令：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install tomcat-docs-webapp tomcat-javadoc</span><br></pre></td></tr></table></figure>
<h4 id="答y在提示安装文档软件包"><a href="#答y在提示安装文档软件包" class="headerlink" title="答y在提示安装文档软件包"></a>答y在提示安装文档软件包</h4><p><a href="https://www.cnblogs.com/nicknailo/p/8571004.html" target="_blank" rel="noopener">配置Tomcat Web管理界面</a></p>
<h3 id="启动Tomcat访问Web界面-将默认访问webapps-ROOT目录下的文件"><a href="#启动Tomcat访问Web界面-将默认访问webapps-ROOT目录下的文件" class="headerlink" title="启动Tomcat访问Web界面 将默认访问webapps/ROOT目录下的文件"></a>启动Tomcat访问Web界面 将默认访问webapps/ROOT目录下的文件</h3><h3 id="更改端口号"><a href="#更改端口号" class="headerlink" title="更改端口号"></a>更改端口号</h3><h4 id="更改为非80端口可进行如下操作"><a href="#更改为非80端口可进行如下操作" class="headerlink" title="更改为非80端口可进行如下操作"></a>更改为非80端口可进行如下操作</h4><p>修改tomcat的端口，在conf目录里的server.xml文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<p>例如想将端口修改为9090则将port的值修改为9090，其余值不变，如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connector port=&quot;9090&quot; protocol=&quot;HTTP/1.1&quot; connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt;</span><br></pre></td></tr></table></figure></p>
<p>如果想将端口修改为80则要注意了，因为linux限制了1-1024端口的使用权限，只有root用户才可以访问1024以下的端口号，所以不能用上面的方法实现，可以使用防火墙映射tomcat监听的端口到80端口，如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -t nat -A PREROUTING -p tcp --dport 80 -j REDIRECT --to-port 8080</span><br></pre></td></tr></table></figure></p>
<h2 id="部署hexo个人博客到centos-tomcat"><a href="#部署hexo个人博客到centos-tomcat" class="headerlink" title="部署hexo个人博客到centos tomcat"></a>部署hexo个人博客到centos tomcat</h2><h4 id="将个人博客打包后的文件上传至webapps-ROOT文件夹下"><a href="#将个人博客打包后的文件上传至webapps-ROOT文件夹下" class="headerlink" title="将个人博客打包后的文件上传至webapps/ROOT文件夹下"></a>将个人博客打包后的文件上传至webapps/ROOT文件夹下</h4><h4 id="可使用xshell配合xshell-的文件上传工具xftp6-需单独下载，可在xshell官网下载安装后直接使用"><a href="#可使用xshell配合xshell-的文件上传工具xftp6-需单独下载，可在xshell官网下载安装后直接使用" class="headerlink" title="可使用xshell配合xshell 的文件上传工具xftp6(需单独下载，可在xshell官网下载安装后直接使用)"></a>可使用xshell配合xshell 的文件上传工具xftp6(需单独下载，可在xshell官网下载安装后直接使用)</h4><h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><h4 id="Tomcat-访问路径中文或访问文件中文-404"><a href="#Tomcat-访问路径中文或访问文件中文-404" class="headerlink" title="Tomcat 访问路径中文或访问文件中文 404"></a>Tomcat 访问路径中文或访问文件中文 404</h4><h4 id="打开Tomcat下conf文件夹里的server-xml文件修改"><a href="#打开Tomcat下conf文件夹里的server-xml文件修改" class="headerlink" title="打开Tomcat下conf文件夹里的server.xml文件修改"></a>打开Tomcat下conf文件夹里的server.xml文件修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;</span><br><span class="line">connectionTimeout=&quot;20000&quot;</span><br><span class="line">redirectPort=&quot;8443&quot; /&gt;</span><br><span class="line">添加进URIEncoding=&quot;UTF-8&quot;</span><br><span class="line">最后如下：</span><br><span class="line">&lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;</span><br><span class="line">connectionTimeout=&quot;20000&quot;</span><br><span class="line">URIEncoding=&quot;UTF-8&quot;</span><br><span class="line">redirectPort=&quot;8443&quot; /&gt;</span><br></pre></td></tr></table></figure>
<h4 id="注意是URI不是URL"><a href="#注意是URI不是URL" class="headerlink" title="注意是URI不是URL"></a>注意是URI不是URL</h4>
            <!--[if lt IE 9]><script>document.createElement('audio');</script><![endif]-->
            <audio id="audio" loop="1" preload="auto" controls="controls" data-autoplay="false">
                <source type="audio/mpeg" src="">
            </audio>
            
                <ul id="audio-list" style="display:none">
                    
                        
                            <li title="0" data-url="http://link.hhtjim.com/163/5146554.mp3"></li>
                        
                    
                        
                            <li title="1" data-url="http://link.hhtjim.com/qq/001faIUs4M2zna.mp3"></li>
                        
                    
                </ul>
            
        </div>
        
    <div id="gitalk-container" class="comment link" data-ae="false" data-ci="d3e32fe8d1eb71045ca8" data-cs="d6fb3b559aa8351efde87f8eff074035940c263b" data-r="https://github.com/dukanghui/dukanghui.github.io/issues" data-o="dukanghui" data-a="dukanghui" data-d="false">查看评论</div>


    </div>
    
</div>


    </div>
</div>
</body>
<script src="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="//lib.baomitu.com/jquery/1.8.3/jquery.min.js"></script>
<script src="/js/plugin.js"></script>
<script src="/js/diaspora.js"></script>
<link rel="stylesheet" href="/photoswipe/photoswipe.css">
<link rel="stylesheet" href="/photoswipe/default-skin/default-skin.css">
<script src="/photoswipe/photoswipe.min.js"></script>
<script src="/photoswipe/photoswipe-ui-default.min.js"></script>

<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>
    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">
        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>
        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <!--  Controls are self-explanatory. Order can be changed. -->
                <div class="pswp__counter"></div>
                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>
            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>
            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>
            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>




</html>
